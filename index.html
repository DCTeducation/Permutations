<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Permutations | DCT Education</title>
  <style>
    :root{
      --text:#0f172a;
      --muted:#475569;
      --bg:#ffffff;
      --card:#ffffff;
      --border:#e2e8f0;
      --soft:#f8fafc;
      --accent:#2563eb;
      --goodbg:#ecfdf3;
      --goodbd:#b7f0cd;
      --badbg:#fff1f2;
      --badbd:#fecdd3;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:var(--soft);
      line-height:1.55;
    }
    .wrap{max-width:980px; margin:0 auto; padding:28px 16px 60px;}
    .top{
      background:var(--bg);
      border:1px solid var(--border);
      border-radius:18px;
      padding:18px;
      box-shadow:0 1px 2px rgba(0,0,0,.04);
    }
    h1{margin:0; font-size:30px; letter-spacing:-.02em;}
    .sub{margin:6px 0 0; color:var(--muted)}
    .nav{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top:14px;
    }
    .pill{
      display:inline-block;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background:var(--soft);
      color:var(--text);
      font-weight:700;
      font-size:13px;
      text-decoration:none;
    }
    .pill:hover{filter:brightness(.98)}
    section{margin-top:18px;}
    .sectionTitle{margin:0 0 10px; font-size:18px; color:var(--muted); font-weight:900; letter-spacing:.02em;}
    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:18px;
      padding:16px;
      box-shadow:0 1px 2px rgba(0,0,0,.04);
      margin:12px 0;
    }
    .grid{display:grid; gap:12px;}
    @media(min-width:900px){ .grid{grid-template-columns:1fr 1fr;} }

    h2{margin:0 0 8px; font-size:20px;}
    h3{margin:12px 0 6px; font-size:16px;}
    .muted{color:var(--muted)}
    .big{font-size:18px; font-weight:900;}
    .rule{
      border-left:5px solid var(--accent);
      background:#eff6ff;
      border-radius:14px;
      padding:12px;
    }
    .row{display:flex; gap:10px; flex-wrap:wrap; align-items:flex-end;}
    label{display:block; font-size:13px; color:var(--muted); font-weight:900; margin-bottom:6px;}
    input, select{
      font-size:16px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid var(--border);
      background:#fff;
      min-width:140px;
    }
    button{
      font-size:14px;
      font-weight:900;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid var(--border);
      background:#fff;
      cursor:pointer;
    }
    button.primary{
      background:var(--accent);
      border-color:var(--accent);
      color:#fff;
    }
    button:hover{filter:brightness(.98)}
    code{
      background:var(--soft);
      border:1px solid var(--border);
      padding:2px 6px;
      border-radius:10px;
      font-weight:700;
    }
    .box{
      border:1px solid var(--border);
      background:var(--soft);
      border-radius:14px;
      padding:12px;
      margin-top:10px;
    }
    .ok{background:var(--goodbg); border-color:var(--goodbd);}
    .no{background:var(--badbg); border-color:var(--badbd);}
    .kpi{display:flex; gap:10px; flex-wrap:wrap;}
    .kpi .chip{
      background:var(--soft);
      border:1px solid var(--border);
      border-radius:14px;
      padding:8px 10px;
      font-weight:900;
      font-size:14px;
    }
    details summary{cursor:pointer; font-weight:900;}
    .tiny{font-size:13px;}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <h1>Permutations</h1>
      <p class="sub">Simple: learn it → see it → practice it.</p>

      <div class="nav">
        <a class="pill" href="#learn">LEARN</a>
        <a class="pill" href="#examples">EXAMPLES</a>
        <a class="pill" href="#practice">PRACTICE</a>
      </div>
    </div>

    <!-- LEARN -->
    <section id="learn">
      <div class="sectionTitle">LEARN</div>

      <div class="card">
        <h2>What is a permutation?</h2>
        <div class="rule">
          <div class="big">If the order changes the answer, it’s a permutation.</div>
          <div class="muted tiny" style="margin-top:6px;">Example: 1234 is different than 4321 → order matters.</div>
        </div>

        <h3>The 2 numbers you always need: n and r</h3>

        <div class="grid">
          <div class="box">
            <div class="big">n = how many choices you start with</div>
            <p class="muted" style="margin:6px 0 0;">
              Example: “12 runners” → you start with 12 choices for 1st place → so <code>n = 12</code>
            </p>
          </div>

          <div class="box">
            <div class="big">r = how many spots you are filling</div>
            <p class="muted" style="margin:6px 0 0;">
              Example: gold/silver/bronze → 3 spots → so <code>r = 3</code>
            </p>
          </div>
        </div>

        <h3>How to calculate (no confusing formulas)</h3>
        <p class="muted">If repeats are NOT allowed:</p>
        <ul>
          <li>Start at <code>n</code></li>
          <li>Multiply down <code>r</code> times</li>
          <li>Stop</li>
        </ul>

        <details>
          <summary>One sentence test tip</summary>
          <p class="muted">If the question has different roles/ranks (1st/2nd/3rd, President/Vice), it’s almost always a permutation.</p>
        </details>
      </div>
    </section>

    <!-- EXAMPLES -->
    <section id="examples">
      <div class="sectionTitle">EXAMPLES</div>

      <div class="grid">
        <div class="card">
          <h2>Example 1: Podium</h2>
          <p>
            <b>Before you start:</b> <br>
            <b>n</b> = how many choices you have at the start. Here: 12 runners.<br>
            <b>r</b> = how many spots you are filling. Here: 3 (gold, silver, bronze).
          </p>
          <p><b>Question:</b> How many ways can gold, silver, and bronze medals be given out among 12 runners?</p>
          <p><b>Why does order matter?</b><br>
            Gold, silver, and bronze are different places—giving Alice gold and Bob silver is NOT the same as giving Bob gold and Alice silver.
          </p>
          <div class="box">
            <b>Math:</b> Start at 12 and multiply down 3 times: <code>12 · 11 · 10 = 1320</code>
          </div>
          <p><b>Why this is a permutation:</b> The order you give out the medals changes who wins what, so each arrangement is unique.</p>
        </div>

        <div class="card">
          <h2>Example 2: Roles</h2>
          <p>
            <b>Before you start:</b> <br>
            <b>n</b> = how many people you can pick from. Here: 25 students.<br>
            <b>r</b> = how many different roles you are assigning. Here: 3 (President, Vice-President, Treasurer).
          </p>
          <p><b>Question:</b> In how many ways can you assign President, Vice-President, and Treasurer from 25 students?</p>
          <p><b>Why does order matter?</b><br>
            Each role is different. Assigning Sam as President and Maria as Treasurer is NOT the same as Maria as President and Sam as Treasurer.
          </p>
          <div class="box">
            <b>Math:</b> Start at 25 and multiply down 3 times: <code>25 · 24 · 23 = 13,800</code>
          </div>
          <p><b>Why this is a permutation:</b> The order of the roles changes the result. Each assignment gives different students different jobs.</p>
        </div>

        <div class="card">
          <h2>Example 3: Not a permutation</h2>
          <p>
            <b>Before you start:</b><br>
            <b>n</b> = total students to pick from. Here: 18 students (for example).<br>
            <b>r</b> = number to choose for the committee. Here: 5.
          </p>
          <p><b>Question:</b> How many ways can you choose 5 students to be on a committee?</p>
          <div class="box no">
            <b>Not a permutation.</b> On a committee, the order does NOT matter—just who is in the group. Order doesn’t create a new outcome.<br>
            <b>This is a combination problem, not a permutation.</b>
          </div>
        </div>

        <div class="card">
          <h2>Quick calculator</h2>
          <p class="muted tiny">Type n and r. It shows the “multiply down” steps.</p>

          <div class="row">
            <div>
              <label for="n">n (starting choices)</label>
              <input id="n" type="number" min="0" value="10" />
            </div>
            <div>
              <label for="r">r (spots filled)</label>
              <input id="r" type="number" min="0" value="4" />
            </div>
            <div>
              <button class="primary" id="btnCalc" type="button">Calculate</button>
            </div>
          </div>

          <div id="calcBox" class="box ok">
            <div class="big" id="calcOut">P(10,4) = 5040</div>
            <div class="muted tiny" id="calcSteps">10 · 9 · 8 · 7</div>
          </div>
        </div>
      </div>
    </section>

    <!-- PRACTICE -->
    <section id="practice">
      <div class="sectionTitle">PRACTICE</div>

      <div class="card">
        <div class="row" style="justify-content:space-between;">
          <div>
            <h2 style="margin-bottom:4px;">Practice set</h2>
            <div class="muted tiny">Do A (decide) then B (calculate). That’s how tests work.</div>
          </div>
          <div class="row">
            <button id="btnNew" type="button">New questions</button>
            <button id="btnReset" type="button">Reset score</button>
          </div>
        </div>

        <div class="kpi" style="margin-top:10px;">
          <div class="chip">Correct: <span id="score">0</span></div>
          <div class="chip">Streak: <span id="streak">0</span></div>
          <div class="chip">Questions: <span id="count">0</span></div>
        </div>
      </div>

      <div class="grid">
        <!-- A -->
        <div class="card">
          <h2>A) Decide</h2>
          <p class="muted tiny">Question: Is it a permutation?</p>

          <div class="box">
            <div class="muted tiny">Scenario</div>
            <div class="big" id="scenarioText">...</div>
          </div>

          <div class="row" style="margin-top:10px;">
            <button id="btnPerm" type="button">Permutation</button>
            <button id="btnNot" type="button">Not permutation</button>
          </div>

          <div id="scenarioResult" class="box" style="display:none;"></div>
        </div>

        <!-- B -->
        <div class="card">
          <h2>B) Calculate</h2>
          <p class="muted tiny">Find n and r, then multiply down.</p>

          <div class="box">
            <div class="muted tiny">Question</div>
            <div class="big" id="practiceQ">...</div>
            <div class="muted tiny" id="hint"></div>
          </div>

          <div class="row" style="margin-top:10px;">
            <div style="flex:1; min-width:220px;">
              <label for="answer">Your answer</label>
              <input id="answer" type="number" placeholder="Type a number" />
            </div>
            <div>
              <button class="primary" id="btnCheck" type="button">Check</button>
            </div>
            <div>
              <button id="btnReveal" type="button">Reveal</button>
            </div>
          </div>

          <div id="practiceResult" class="box" style="display:none;"></div>
        </div>
      </div>
    </section>
  </div>

<script>
  // Helpers
  function randInt(min, max){ return Math.floor(Math.random() * (max - min + 1)) + min; }

  function multiplyDownValue(n, r){
    if (r > n) return 0;
    let out = 1;
    for (let k = 0; k < r; k++) out *= (n - k);
    return out;
  }

  function multiplyDownSteps(n, r){
    if (r > n) return "r is bigger than n → 0";
    const parts = [];
    for (let k = 0; k < r; k++) parts.push(String(n - k));
    return parts.join(" · ");
  }

  // Calculator
  const nEl = document.getElementById("n");
  const rEl = document.getElementById("r");
  const calcOut = document.getElementById("calcOut");
  const calcSteps = document.getElementById("calcSteps");
  const calcBox = document.getElementById("calcBox");

  function updateCalc(){
    const n = parseInt(nEl.value, 10);
    const r = parseInt(rEl.value, 10);

    if (!Number.isFinite(n) || !Number.isFinite(r) || n < 0 || r < 0){
      calcBox.className = "box no";
      calcOut.textContent = "Enter n and r (0 or higher).";
      calcSteps.textContent = "";
      return;
    }

    const val = multiplyDownValue(n, r);
    calcBox.className = "box ok";
    calcOut.textContent = `P(${n},${r}) = ${val}`;
    calcSteps.textContent = multiplyDownSteps(n, r);
  }

  document.getElementById("btnCalc").addEventListener("click", updateCalc);
  updateCalc();

  // Score
  let score = 0, streak = 0, count = 0;
  const scoreEl = document.getElementById("score");
  const streakEl = document.getElementById("streak");
  const countEl = document.getElementById("count");
  function renderScore(){
    scoreEl.textContent = score;
    streakEl.textContent = streak;
    countEl.textContent = count;
  }
  function resetScore(){
    score = 0; streak = 0; count = 0;
    renderScore();
    document.getElementById("scenarioResult").style.display = "none";
    document.getElementById("practiceResult").style.display = "none";
    document.getElementById("answer").value = "";
  }
  document.getElementById("btnReset").addEventListener("click", resetScore);

  // Practice A — decide
  const scenarios = [
    { text:"Awarding gold, silver, and bronze among runners", isPerm:true, why:"Ranks are different (gold/silver/bronze) → order matters." },
    { text:"Choosing students for a committee", isPerm:false, why:"No roles. Same group = same result." },
    { text:"Creating a PIN (order matters)", isPerm:true, why:"1234 is not the same as 4321." },
    { text:"Picking toppings for a pizza", isPerm:false, why:"Same toppings either way." },
    { text:"Assigning Captain and Assistant Captain", isPerm:true, why:"Two different roles → order matters." }
  ];
  let currentScenario = null;
  const scenarioText = document.getElementById("scenarioText");
  const scenarioResult = document.getElementById("scenarioResult");

  function newScenario(){
    currentScenario = scenarios[randInt(0, scenarios.length - 1)];
    scenarioText.textContent = currentScenario.text;
    scenarioResult.style.display = "none";
  }

  function answerScenario(userPerm){
    const correct = (userPerm === currentScenario.isPerm);
    count += 1;

    if (correct){
      score += 1; streak += 1;
      scenarioResult.className = "box ok";
      scenarioResult.innerHTML = `<b>Correct.</b> ${currentScenario.why}`;
    } else {
      streak = 0;
      scenarioResult.className = "box no";
      const label = currentScenario.isPerm ? "Permutation" : "Not permutation";
      scenarioResult.innerHTML = `<b>No.</b> Correct: <b>${label}</b>. ${currentScenario.why}`;
    }

    scenarioResult.style.display = "block";
    renderScore();
  }

  document.getElementById("btnPerm").addEventListener("click", () => answerScenario(true));
  document.getElementById("btnNot").addEventListener("click", () => answerScenario(false));

  // Practice B — calculate
  const practiceQ = document.getElementById("practiceQ");
  const hintEl = document.getElementById("hint");
  const ansEl = document.getElementById("answer");
  const practiceResult = document.getElementById("practiceResult");

  let currentPractice = null;

  function newCalcQuestion(){
    const types = [
      { label:"podium (gold/silver/bronze)", r:3 },
      { label:"roles (President/Vice/Treasurer)", r:3 },
      { label:"top 4 finishers", r:4 },
      { label:"choose 5 different roles", r:5 }
    ];
    const pick = types[randInt(0, types.length - 1)];
    const n = randInt(Math.max(6, pick.r + 1), 18);
    const r = pick.r;

    currentPractice = { n, r, val: multiplyDownValue(n, r), label: pick.label };

    practiceQ.textContent = `There are ${n} choices. You are filling ${r} spots. (${pick.label})`;
    hintEl.textContent = `So: n = ${n} (starting choices), r = ${r} (spots). Multiply down ${r} times.`;
    ansEl.value = "";
    practiceResult.style.display = "none";
  }

  function checkCalc(){
    const user = parseInt(ansEl.value, 10);
    count += 1;

    if (!Number.isFinite(user)){
      streak = 0;
      practiceResult.className = "box no";
      practiceResult.innerHTML = `Type a number. Answer: <b>${currentPractice.val}</b> <br/><span class="muted tiny">Steps: ${multiplyDownSteps(currentPractice.n, currentPractice.r)}</span>`;
      practiceResult.style.display = "block";
      renderScore();
      return;
    }

    if (user === currentPractice.val){
      score += 1; streak += 1;
      practiceResult.className = "box ok";
      practiceResult.innerHTML = `<b>Correct.</b> <br/><span class="muted tiny">Steps: ${multiplyDownSteps(currentPractice.n, currentPractice.r)}</span>`;
    } else {
      streak = 0;
      practiceResult.className = "box no";
      practiceResult.innerHTML = `<b>No.</b> Correct: <b>${currentPractice.val}</b> <br/><span class="muted tiny">Steps: ${multiplyDownSteps(currentPractice.n, currentPractice.r)}</span>`;
    }

    practiceResult.style.display = "block";
    renderScore();
  }

  function revealCalc(){
    practiceResult.className = "box ok";
    practiceResult.innerHTML = `Answer: <b>${currentPractice.val}</b> <br/><span class="muted tiny">Steps: ${multiplyDownSteps(currentPractice.n, currentPractice.r)}</span>`;
    practiceResult.style.display = "block";
  }

  document.getElementById("btnCheck").addEventListener("click", checkCalc);
  document.getElementById("btnReveal").addEventListener("click", revealCalc);
  ansEl.addEventListener("keydown", (e) => { if (e.key === "Enter") checkCalc(); });

  // New set
  function newSet(){
    newScenario();
    newCalcQuestion();
    document.getElementById("practice").scrollIntoView({behavior:"smooth"});
  }
  document.getElementById("btnNew").addEventListener("click", newSet);

  // Init
  resetScore();
  newScenario();
  newCalcQuestion();
</script>
</body>
</html>
