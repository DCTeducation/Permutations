<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Permutations | DCT Education</title>
  <style>
    body{font-family:Arial, sans-serif; max-width:920px; margin:32px auto; padding:0 16px; line-height:1.55;}
    h1{margin:0 0 8px;}
    .sub{color:#555; margin:0 0 18px;}
    .card{border:1px solid #ddd; border-radius:12px; padding:16px; margin:14px 0; box-shadow:0 1px 2px rgba(0,0,0,.04);}
    .row{display:flex; gap:12px; flex-wrap:wrap; align-items:flex-end;}
    label{display:block; font-weight:600; margin-bottom:6px;}
    input, select, button{font-size:16px; padding:10px 12px; border-radius:10px; border:1px solid #ccc;}
    button{cursor:pointer;}
    button:hover{filter:brightness(0.98);}
    .pill{display:inline-block; padding:3px 10px; border-radius:999px; background:#f1f5ff; border:1px solid #dbe6ff; font-size:14px;}
    .good{background:#ecfdf3; border-color:#bfe9cf;}
    .bad{background:#fff1f2; border-color:#fecdd3;}
    code, pre{background:#f6f6f6; border-radius:10px;}
    code{padding:2px 6px;}
    pre{padding:12px; overflow:auto;}
    .muted{color:#666;}
    .result{font-weight:700; font-size:18px;}
    .small{font-size:14px;}
    ul{margin:8px 0 0 20px;}
  </style>
</head>
<body>

  <h1>Permutations</h1>
  <p class="sub">DCT Education — Learn this fast, the way tests actually ask it.</p>

  <div class="card">
    <h2>1) The only rule you need first</h2>
    <p><span class="pill">Permutation</span> means <b>order matters</b>.</p>
    <ul>
      <li>PIN: <code>1234</code> is different than <code>4321</code> → order matters → permutation</li>
      <li>Choosing pizza toppings: pepperoni + mushrooms is the same set either way → order doesn’t matter</li>
    </ul>
    <p class="muted small">Test trick: If the question has different roles (1st/2nd/3rd, President/Vice, Gold/Silver/Bronze), it’s almost always a permutation.</p>
  </div>

  <div class="card">
    <h2>2) Quick decision: Permutation or Combination?</h2>
    <p>Answer this: <b>Does switching the order change the outcome?</b></p>

    <div class="row">
      <div style="flex:1; min-width:260px;">
        <label for="scenario">Pick a scenario</label>
        <select id="scenario">
          <option value="podium">Awarding Gold/Silver/Bronze among 12 runners</option>
          <option value="committee">Choosing 5 students for a committee</option>
          <option value="password">Creating a 4-digit PIN (no repeats)</option>
          <option value="toppings">Choosing 3 pizza toppings from 10</option>
          <option value="lineup">Selecting Captain, Assistant, and Goalie from 15 players</option>
        </select>
      </div>
      <div>
        <button onclick="checkScenario()">Check</button>
      </div>
    </div>

    <p id="scenarioAnswer" class="result"></p>
  </div>

  <div class="card">
    <h2>3) The permutation formula</h2>
    <p>If you’re arranging <b>r</b> items chosen from <b>n</b> items (no repeats):</p>
    <pre><code>P(n,r) = n! / (n-r)!</code></pre>
    <p>Meaning:</p>
    <ul>
      <li>Multiply <b>r</b> descending numbers: <code>n · (n-1) · (n-2) ...</code></li>
      <li>Stop after <b>r</b> factors</li>
    </ul>
    <p class="muted small">Example: <code>P(10,4) = 10·9·8·7 = 5040</code></p>
  </div>

  <div class="card">
    <h2>4) Calculator: compute P(n,r)</h2>
    <div class="row">
      <div>
        <label for="n">n</label>
        <input id="n" type="number" value="10" min="0" />
      </div>
      <div>
        <label for="r">r</label>
        <input id="r" type="number" value="4" min="0" />
      </div>
      <div>
        <button onclick="calcPerm()">Calculate</button>
      </div>
    </div>
    <p id="calcOut" class="result"></p>
    <p class="muted small">If <code>r > n</code>, the answer is <code>0</code> (you can’t pick more than you have).</p>
  </div>

  <div class="card">
    <h2>5) Practice (instant answers)</h2>
    <p>Hit generate. Try it. Reveal the answer after.</p>
    <div class="row">
      <button onclick="newPractice()">Generate Question</button>
      <button onclick="revealAnswer()">Reveal Answer</button>
    </div>
    <p id="practiceQ" class="result"></p>
    <p id="practiceA" class="result"></p>
    <p class="muted small">Goal: you should be able to spot <b>n</b> and <b>r</b> in 5 seconds.</p>
  </div>

  <div class="card">
    <h2>6) Exam-style mini set</h2>
    <ol>
      <li>How many ways can you assign <b>President</b>, <b>Vice-President</b>, and <b>Treasurer</b> from 25 students?</li>
      <li>How many 5-letter codes can be made from A–Z with <b>no repeats</b>?</li>
      <li>How many different podium outcomes (1st/2nd/3rd) are possible from 14 runners?</li>
    </ol>
    <p class="muted small">If you want, I’ll add a “Show solutions” button with full steps.</p>
  </div>

<script>
  function fact(x){
    if (x < 0) return NaN;
    let out = 1;
    for (let i = 2; i <= x; i++) out *= i;
    return out;
  }

  function P(n,r){
    if (r > n) return 0;
    // compute n*(n-1)*... for r terms (safer than huge factorials)
    let out = 1;
    for (let k = 0; k < r; k++) out *= (n - k);
    return out;
  }

  function checkScenario(){
    const val = document.getElementById("scenario").value;
    const out = document.getElementById("scenarioAnswer");

    const map = {
      podium: {type:"Permutation", why:"Gold/Silver/Bronze are different positions → order matters."},
      committee: {type:"Combination", why:"A committee has no order → only who is chosen matters."},
      password: {type:"Permutation", why:"A PIN changes if digits change order → order matters."},
      toppings: {type:"Combination", why:"Toppings are a set → order doesn’t matter."},
      lineup: {type:"Permutation", why:"Roles are different (Captain vs Assistant vs Goalie) → order matters."}
    };

    const ans = map[val];
    const isPerm = ans.type === "Permutation";
    out.className = "result " + (isPerm ? "" : "");
    out.innerHTML = `<span class="pill ${isPerm ? "good" : ""}">${ans.type}</span> ${ans.why}`;
  }

  function calcPerm(){
    const n = parseInt(document.getElementById("n").value, 10);
    const r = parseInt(document.getElementById("r").value, 10);
    const out = document.getElementById("calcOut");

    if (Number.isNaN(n) || Number.isNaN(r)) {
      out.textContent = "Enter valid integers for n and r.";
      return;
    }
    if (n < 0 || r < 0) {
      out.textContent = "n and r must be ≥ 0.";
      return;
    }

    const val = P(n,r);
    out.textContent = `P(${n},${r}) = ${val}`;
  }

  let currentAnswer = null;

  function newPractice(){
    const contexts = [
      "students lining up for a photo",
      "digits in a PIN (no repeats)",
      "books arranged on a shelf",
      "players assigned to positions",
      "letters chosen for a code (no repeats)"
    ];
    const n = randInt(6, 18);
    const r = randInt(2, Math.min(7, n));
    const context = contexts[randInt(0, contexts.length-1)];

    document.getElementById("practiceQ").textContent =
      `How many ways can you arrange ${r} out of ${n} (${context})?`;
    currentAnswer = P(n,r);
    document.getElementById("practiceA").textContent = "";
  }

  function revealAnswer(){
    const out = document.getElementById("practiceA");
    if (currentAnswer === null) {
      out.textContent = "Generate a question first.";
      return;
    }
    out.textContent = `Answer: ${currentAnswer}`;
  }

  function randInt(min, max){
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  // init
  checkScenario();
  calcPerm();
  newPractice();
</script>

</body>
</html>
